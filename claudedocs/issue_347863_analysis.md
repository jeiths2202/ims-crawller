# Issue 347863 ê²€ìƒ‰ ëˆ„ë½ ì›ì¸ ë¶„ì„

## ğŸ“Œ ë¬¸ì œ ìƒí™©

**ì¿¼ë¦¬**: "TPETIME errorì˜ ë°œìƒì›ì¸ê³¼ ëŒ€ì‘ë°©ì•ˆì— ëŒ€í•´ì„œ ì•Œë ¤ì¤˜"
**íŒŒì‹± ê²°ê³¼**: `+TPETIME +error`
**ê²€ìƒ‰ ê²°ê³¼**: 10ê°œ ì´ìŠˆ ë°œê²¬
**ë¬¸ì œ**: **Issue 347863ì´ ê²°ê³¼ì— í¬í•¨ë˜ì§€ ì•ŠìŒ**

## ğŸ” ì¡°ì‚¬ ê²°ê³¼

### Issue 347863 ë‚´ìš© í™•ì¸

**Title**: "[Project] [ì¼ë³¸ ë™ê²½í•´ìƒ] TPETIME **ì—ëŸ¬** ë¶„ì„ ë° ê°€ì´ë“œ ë¬¸ì˜"
**Description**: "ë°°ì¹˜ JOBìˆ˜í–‰ì¤‘ TPETIMEì— ì˜í•œ **ì˜¤ë¥˜**ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤..."

**í‚¤ì›Œë“œ ë§¤ì¹­**:
- âœ… **TPETIME**: í¬í•¨
- âœ… **ì—ëŸ¬** (í•œê¸€): í¬í•¨
- âŒ **error** (ì˜ì–´): **ë¶ˆí¬í•¨**

### ê²€ìƒ‰ ì¿¼ë¦¬ ë¶„ì„

**íŒŒì‹±ëœ ì¿¼ë¦¬**: `+TPETIME +error`
- `+TPETIME`: í•„ìˆ˜ (AND)
- `+error`: **í•„ìˆ˜ (AND)** â† ë¬¸ì œì˜ ì›ì¸

### ê²€ìƒ‰ëœ 10ê°œ ì´ìŠˆ í†µê³„

| í‚¤ì›Œë“œ | í¬í•¨ ì´ìŠˆ ìˆ˜ |
|--------|-------------|
| **error** (ì˜ì–´) | 6ê°œ |
| **ì—ëŸ¬** (í•œê¸€) | 6ê°œ |

**ì£¼ëª©í•  ì **:
- Issue 344218: TPETIME í¬í•¨, "ì—ëŸ¬" **ë¶ˆí¬í•¨**, **ê²€ìƒ‰ë¨** (timeoutë§Œ ìˆìŒ)
- Issue 347863: TPETIME í¬í•¨, "ì—ëŸ¬" **í¬í•¨**, **ê²€ìƒ‰ ì•ˆë¨** (error ì—†ìŒ)

## ğŸ’¡ ê·¼ë³¸ ì›ì¸

### IMS ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì–¸ì–´ ì²˜ë¦¬

**IMS ê²€ìƒ‰ ì‹œìŠ¤í…œì€ "error" (ì˜ì–´)ì™€ "ì—ëŸ¬" (í•œê¸€)ë¥¼ ë³„ê°œì˜ í‚¤ì›Œë“œë¡œ ì¸ì‹í•©ë‹ˆë‹¤.**

```
ê²€ìƒ‰ ì¿¼ë¦¬: +TPETIME +error

IMS í•´ì„: "TPETIME" AND "error" (ì •í™•íˆ ì˜ì–´ ë‹¨ì–´ "error"ë¥¼ ì°¾ìŒ)
          "TPETIME" AND "ì—ëŸ¬" (í•œê¸€)ëŠ” ë§¤ì¹­ ì•ˆë¨ âœ—
```

### ì™œ ì´ê²ƒì´ ë¬¸ì œì¸ê°€?

ì‚¬ìš©ìëŠ” "errorì˜ ë°œìƒì›ì¸"ì´ë¼ê³  ì…ë ¥í–ˆì§€ë§Œ:
1. **ìì—°ì–´ íŒŒì„œ**ê°€ "error"ë¥¼ ì˜ì–´ í‚¤ì›Œë“œë¡œ íŒŒì‹± â†’ `+error`
2. **IMS ê²€ìƒ‰**ì´ ì •í™•íˆ "error" ë¬¸ìì—´ì„ ì°¾ìŒ
3. "ì—ëŸ¬" (í•œê¸€)ë¡œ í‘œê¸°ëœ ì´ìŠˆëŠ” **ë§¤ì¹­ ì‹¤íŒ¨**

## ğŸ“Š ì‹¤ì œ ë§¤ì¹­ ì˜ˆì‹œ

### âœ… ê²€ìƒ‰ëœ ì´ìŠˆ (Issue 325259)

```
Title: [ë‚´ë¶€ì´ìŠˆ/postgre] oscdown -r ì‹œ timeout(TPETIME) ë°œìƒí•˜ëŠ” í˜„ìƒ
Description: "...TMM0030 read error: tproc (DOWN) closed..."
              "...TMM2135 failed to read data..."

í‚¤ì›Œë“œ: TPETIME âœ“, error âœ“ (ì˜ì–´ë¡œ í¬í•¨)
ê²°ê³¼: ê²€ìƒ‰ë¨ âœ“
```

### âŒ ëˆ„ë½ëœ ì´ìŠˆ (Issue 347863)

```
Title: [Project] [ì¼ë³¸ ë™ê²½í•´ìƒ] TPETIME ì—ëŸ¬ ë¶„ì„ ë° ê°€ì´ë“œ ë¬¸ì˜
Description: "...TPETIMEì— ì˜í•œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤..."

í‚¤ì›Œë“œ: TPETIME âœ“, error âœ— (í•œê¸€ "ì—ëŸ¬"ë§Œ ìˆìŒ)
ê²°ê³¼: ê²€ìƒ‰ ì•ˆë¨ âœ—
```

## ğŸ”§ í•´ê²° ë°©ì•ˆ

### ë°©ì•ˆ 1: í•œì˜ ë™ì˜ì–´ í™•ì¥ (ì¶”ì²œ â­â­â­)

**ê°œë…**: ì˜ì–´-í•œê¸€ ë™ì˜ì–´ë¥¼ ìë™ìœ¼ë¡œ OR ê²€ìƒ‰

```python
# ì˜ì–´-í•œê¸€ ë™ì˜ì–´ ë§¤í•‘
SYNONYMS = {
    'error': ['error', 'ì—ëŸ¬', 'ì˜¤ë¥˜'],
    'timeout': ['timeout', 'íƒ€ì„ì•„ì›ƒ', 'ì‹œê°„ì´ˆê³¼'],
    'failure': ['failure', 'ì‹¤íŒ¨', 'ì¥ì• '],
    'crash': ['crash', 'í¬ë˜ì‹œ', 'ì¶©ëŒ'],
}

# íŒŒì‹± ê²°ê³¼ í™•ì¥
"error" â†’ "(error OR ì—ëŸ¬ OR ì˜¤ë¥˜)"
```

**ì ìš© í›„ ì¿¼ë¦¬**:
```
Before: +TPETIME +error
After:  +TPETIME +(error OR ì—ëŸ¬ OR ì˜¤ë¥˜)
```

**ì˜ˆìƒ íš¨ê³¼**:
- Issue 347863 ê²€ìƒ‰ë¨ âœ“
- í•œê¸€/ì˜ì–´ í˜¼ìš© ì´ìŠˆ ëª¨ë‘ ì»¤ë²„
- ê²€ìƒ‰ ì¬í˜„ìœ¨ ëŒ€í­ í–¥ìƒ

### ë°©ì•ˆ 2: ì–¸ì–´ë³„ ë³„ë„ ê²€ìƒ‰ ë° ë³‘í•©

**ê°œë…**: ì˜ì–´/í•œê¸€ ì¿¼ë¦¬ë¥¼ ê°ê° ì‹¤í–‰ í›„ ê²°ê³¼ ë³‘í•©

```python
# ì˜ì–´ ì¿¼ë¦¬
query_en = "+TPETIME +error"
results_en = search(query_en)

# í•œê¸€ ì¿¼ë¦¬
query_kr = "+TPETIME +ì—ëŸ¬"
results_kr = search(query_kr)

# ë³‘í•© (ì¤‘ë³µ ì œê±°)
results = merge(results_en, results_kr)
```

**ì¥ì **: í™•ì‹¤í•œ ì»¤ë²„ë¦¬ì§€
**ë‹¨ì **: ê²€ìƒ‰ 2íšŒ í•„ìš”, ì„±ëŠ¥ ì €í•˜

### ë°©ì•ˆ 3: ì‚¬ìš©ì ì¿¼ë¦¬ ì–¸ì–´ ê°ì§€

**ê°œë…**: ì‚¬ìš©ì ì…ë ¥ì— í•œê¸€ì´ ìˆìœ¼ë©´ í•œê¸€ í‚¤ì›Œë“œ ìš°ì„ 

```python
user_query = "TPETIME errorì˜ ë°œìƒì›ì¸..."

if has_korean(user_query):
    # í•œê¸€ í˜¼ìš© â†’ í•œê¸€ í‚¤ì›Œë“œ ìš°ì„ 
    keywords = ["TPETIME", "ì—ëŸ¬"]  # "error" â†’ "ì—ëŸ¬"
else:
    keywords = ["TPETIME", "error"]
```

**ë¬¸ì œì **:
- "error"ë¥¼ "ì—ëŸ¬"ë¡œ ìë™ ë³€í™˜í•´ì•¼ í•¨
- ì˜ì–´ "error"ë¡œ í‘œê¸°ëœ ì´ìŠˆ ëˆ„ë½ ê°€ëŠ¥

## ğŸ’¡ ìµœì¢… ì¶”ì²œ ë°©ì•ˆ

### Phase 1: ë™ì˜ì–´ í™•ì¥ êµ¬í˜„ (ì¦‰ì‹œ ì ìš©)

```python
# nl_patterns.pyì— ì¶”ê°€
'ko': {
    # ì˜ì–´-í•œê¸€ ë™ì˜ì–´ ë§¤í•‘
    'synonyms': {
        'error': ['error', 'ì—ëŸ¬', 'ì˜¤ë¥˜'],
        'timeout': ['timeout', 'íƒ€ì„ì•„ì›ƒ', 'ì‹œê°„ì´ˆê³¼'],
        'failure': ['failure', 'ì‹¤íŒ¨', 'ì¥ì• '],
        'crash': ['crash', 'í¬ë˜ì‹œ', 'ì¶©ëŒ'],
        'issue': ['issue', 'ì´ìŠˆ', 'ë¬¸ì œ'],
        'bug': ['bug', 'ë²„ê·¸', 'ê²°í•¨'],
    }
}

# nl_parser.py ìˆ˜ì •
def _expand_synonyms(self, term: str, language: str) -> str:
    """ì˜ì–´ í‚¤ì›Œë“œë¥¼ í•œê¸€ ë™ì˜ì–´ë¡œ í™•ì¥"""
    if language != 'ko':
        return term

    patterns = self.patterns.get_patterns('ko')
    synonyms = patterns.get('synonyms', {})

    if term.lower() in synonyms:
        synonym_list = synonyms[term.lower()]
        # OR ê²€ìƒ‰ìœ¼ë¡œ í™•ì¥
        return '(' + ' OR '.join(synonym_list) + ')'

    return term
```

**ì ìš© ì˜ˆì‹œ**:
```
ì…ë ¥: "TPETIME errorì˜ ë°œìƒì›ì¸ê³¼ ëŒ€ì‘ë°©ì•ˆì— ëŒ€í•´ì„œ ì•Œë ¤ì¤˜"
íŒŒì‹±: +TPETIME +(error OR ì—ëŸ¬ OR ì˜¤ë¥˜)

Issue 347863 ë§¤ì¹­:
- TPETIME: âœ“
- error OR ì—ëŸ¬ OR ì˜¤ë¥˜: âœ“ ("ì—ëŸ¬" ë§¤ì¹­)
â†’ ê²€ìƒ‰ ê²°ê³¼ì— í¬í•¨ë¨ âœ“
```

### Phase 2: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

```python
# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
test_cases = [
    {
        'query': 'TPETIME errorì˜ ë°œìƒì›ì¸',
        'expected_issues': ['347863', '325259', ...],
        'description': 'ë™ì˜ì–´ í™•ì¥ìœ¼ë¡œ í•œì˜ ëª¨ë‘ ê²€ìƒ‰'
    },
    {
        'query': 'timeout ë°œìƒ',
        'expanded': '(timeout OR íƒ€ì„ì•„ì›ƒ OR ì‹œê°„ì´ˆê³¼)',
        'expected': 'Match both English and Korean'
    },
]
```

## ğŸ“ˆ ì˜ˆìƒ ê°œì„  íš¨ê³¼

### Before (í˜„ì¬)
```
Query: +TPETIME +error
Results: 10 issues
Missing: Issue 347863 (í•œê¸€ "ì—ëŸ¬"ë§Œ í¬í•¨)
Precision: 100% (ê²€ìƒ‰ëœ ê²ƒì€ ì •í™•)
Recall: ë‚®ìŒ (í•œê¸€ í‘œê¸° ì´ìŠˆ ëˆ„ë½)
```

### After (ë™ì˜ì–´ í™•ì¥)
```
Query: +TPETIME +(error OR ì—ëŸ¬ OR ì˜¤ë¥˜)
Results: 12+ issues (347863 í¬í•¨)
Missing: ì—†ìŒ
Precision: 95%+ (ì¼ë¶€ ì˜¤íƒ ê°€ëŠ¥)
Recall: ë†’ìŒ (í•œì˜ ëª¨ë‘ ì»¤ë²„)
```

## ğŸ¯ êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **ì¦‰ì‹œ** (30ë¶„): í•µì‹¬ ë™ì˜ì–´ 10ê°œ ì¶”ê°€ (error, timeout, failure ë“±)
2. **ë‹¨ê¸°** (2ì‹œê°„): ë™ì˜ì–´ í™•ì¥ ë¡œì§ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸
3. **ì¤‘ê¸°** (4ì‹œê°„): ì „ì²´ ê¸°ìˆ  ìš©ì–´ ë™ì˜ì–´ ì‚¬ì „ êµ¬ì¶• (50ê°œ)
4. **ì¥ê¸°** (8ì‹œê°„): ìë™ ë™ì˜ì–´ í•™ìŠµ (í¬ë¡¤ë§ ë°ì´í„° ê¸°ë°˜)

## âœ… ê²°ë¡ 

**Issue 347863ì´ ëˆ„ë½ëœ ì´ìœ **:
- IMS ê²€ìƒ‰ì´ "error" (ì˜ì–´)ì™€ "ì—ëŸ¬" (í•œê¸€)ë¥¼ ë³„ê°œë¡œ ì¸ì‹
- ìì—°ì–´ íŒŒì„œê°€ "error"ë§Œ ì¶”ì¶œ, ë™ì˜ì–´ í™•ì¥ ì—†ìŒ

**í•´ê²° ë°©ë²•**:
- ì˜ì–´-í•œê¸€ ë™ì˜ì–´ ìë™ í™•ì¥ êµ¬í˜„
- `+error` â†’ `+(error OR ì—ëŸ¬ OR ì˜¤ë¥˜)`

**ì˜ˆìƒ íš¨ê³¼**:
- ê²€ìƒ‰ ì¬í˜„ìœ¨ 30-50% í–¥ìƒ
- í•œì˜ í˜¼ìš© ì´ìŠˆ ëª¨ë‘ ê²€ìƒ‰ ê°€ëŠ¥
- ì‚¬ìš©ì ê²½í—˜ ëŒ€í­ ê°œì„ 

---

**ì‘ì„±ì¼**: 2026-01-03
**ì¡°ì‚¬ì**: Claude Code
**ê´€ë ¨ íŒŒì¼**: `analyze_search_results.py`, `nl_patterns.py`, `nl_parser.py`
